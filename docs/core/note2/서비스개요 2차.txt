# 📌 간병노트 2차 서비스 개요 (최종본)

## 1. 서비스 한 줄 정의

> **가족·개인 간병 시, 계약·일지·보험/회사 제출 서류까지 한 번에 정리해주는 웹 서비스**

- 보호자  
  → 복잡한 서류/양식을 고민하지 않고,  
  **간병 케이스·일지·제출 서류를 한 번에 관리**한다.
- 간병인  
  → **앱 설치 없이, 링크 + 휴대폰 문자 인증**만으로  
  계약 확인 및 일지를 기록한다.
- 운영자  
  → **전체 케이스를 한눈에 보고**,  
  날짜 꼬임·조기 종료·서류 문제를 조정·정리한다.

---

## 2. 2차 단계 핵심 목표

1. **역할 및 화면 분리**
   - 보호자 / 간병인 / 운영자 진입 경로와 권한을 분리
   - 보호자는 자신의 케이스만, 운영자는 전체 케이스 관리

2. **본인 확인 + 날짜 무결성**
   - 휴대폰 문자 인증(6자리 코드)으로 계정/접속 확인
   - 보호자·간병인 화면에서는 **과거 날짜 입력 불가**
   - 과거 조정은 **운영자(Admin)** 만 가능

3. **실제 제출 가능한 서류 흐름 완성**
   - 계약/일지/확인서를 PDF로 자동 생성
   - 보호자가 **이메일로 서류를 받아 보험사/회사에 제출** 가능

4. **운영 관점 통제력 확보**
   - 강제 종료, 기간 수정(과거 포함), 링크 재발송(카카오톡)
   - 활동 로그, 알림/이메일 발송 이력 저장

5. **데이터/개인정보 최소 수집**
   - 이름, 생년월일, 이메일, 전화번호 정도만 수집
   - 주민등록번호, 계좌번호 등은 수집하지 않음
   - **구체적인 데이터 보관/익명화 정책은 3차에서 상세 설계**

---

## 3. 주요 사용자 시나리오

### 3.1 보호자

1. 이름/생년월일/이메일/휴대폰 번호 입력 후,  
   휴대폰 문자 인증(6자리 코드)으로 가입/로그인
2. `/cases` 에서 간병 케이스 생성
3. 케이스 상세에서 **간병인 참여 링크**를 복사하여 간병인에게 전달
4. 진행 중 필요 시 **연장/조기 종료 요청**(미래 날짜만 선택 가능)
5. 간병 종료 후:
   - 계약서/일지/확인서를 PDF로 생성
   - 이메일로 서류를 받아 보험사/회사에 제출

### 3.2 간병인

1. 보호자가 보내준 `/caregiver/[token]` 링크로 접속
2. 본인 휴대폰 번호 + 문자 인증(6자리 코드)으로 접속 확인
3. 간병 계약 내용 확인 후 **동의**
4. 간병 기간 동안 매일 **오늘 날짜 기준**으로 간병일지 작성

### 3.3 운영자

1. `/admin/cases` 에서 전체 케이스 목록 조회(검색/필터)
2. `/admin/cases/[id]` 에서:
   - 강제 종료, 기간 수정(과거 포함)
   - 간병인 링크 카카오톡 재발송
   - 상태 변경/서류 발급/알림 이력 확인

---

## 4. 2차 범위에서 제외되는 것

- 카드 결제/PG 연동, 정산/세금계산서 자동 발행
- 앱스토어용 네이티브 앱 (Android/iOS)
- 간병인 검색/매칭 기능
- 전자 서명(전용 서명 패드 등)
- **데이터 보관/익명화의 상세 정책·자동화 로직 → 3차에서 설계**
