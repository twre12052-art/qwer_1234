# ğŸ”‘ Admin ê³„ì • ë§Œë“¤ê¸° - ìƒì„¸ ê°€ì´ë“œ

## âœ… SQL ì‹¤í–‰ í™•ì¸ë¨!

ìŠ¤í¬ë¦°ìƒ·ì„ ë³´ë‹ˆ `activity_logs` í…Œì´ë¸”ê³¼ RLS ì •ì±…ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤! âœ…

---

## ğŸ“ Admin ê³„ì • ë§Œë“œëŠ” ë°©ë²• (2ê°€ì§€)

---

## ğŸ¯ ë°©ë²• 1: ê¸°ì¡´ ê³„ì • ìŠ¹ê²© (ê°€ì¥ ì‰¬ì›€!)

### Step 1: í˜„ì¬ ê³„ì • í™•ì¸
```
Supabase Dashboard â†’ SQL Editor â†’ New Query
```

ì•„ë˜ SQL ë³µì‚¬ ë¶™ì—¬ë„£ê¸°:
```sql
-- í˜„ì¬ ìˆëŠ” ëª¨ë“  ê³„ì • í™•ì¸
SELECT 
  name,
  full_name,
  phone,
  role,
  created_at
FROM users
ORDER BY created_at DESC;
```

Run í´ë¦­ â†’ ê²°ê³¼ í™•ì¸

**ì˜ˆì‹œ ê²°ê³¼**:
```
name      | full_name | phone         | role     
----------|-----------|---------------|----------
user001   | í…ŒìŠ¤íŠ¸1   | 010-1111-1111 | guardian
user002   | í…ŒìŠ¤íŠ¸2   | 010-1111-1111 | guardian
```

---

### Step 2: Adminìœ¼ë¡œ ìŠ¹ê²©

#### ë°©ë²• A: íŠ¹ì • ì‚¬ìš©ì ìŠ¹ê²© (ì˜ˆ: user001)
```sql
-- user001ì„ adminìœ¼ë¡œ ë³€ê²½
UPDATE users 
SET role = 'admin' 
WHERE name = 'user001';
```

Run í´ë¦­!

#### ë°©ë²• B: ì „í™”ë²ˆí˜¸ë¡œ ì°¾ì•„ì„œ ìŠ¹ê²©
```sql
-- ì „í™”ë²ˆí˜¸ë¡œ ì°¾ì•„ì„œ adminìœ¼ë¡œ ë³€ê²½
UPDATE users 
SET role = 'admin' 
WHERE phone = '010-1111-1111'
LIMIT 1;
```

Run í´ë¦­!

---

### Step 3: í™•ì¸
```sql
-- ì œëŒ€ë¡œ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸
SELECT name, role 
FROM users 
WHERE role = 'admin';
```

Run í´ë¦­!

**ì˜ˆìƒ ê²°ê³¼**:
```
name      | role
----------|------
user001   | admin  âœ…
```

---

### Step 4: Admin ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸

#### ë¸Œë¼ìš°ì €ì—ì„œ:
```
1. í˜„ì¬ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤ë©´ ë¡œê·¸ì•„ì›ƒ
2. http://localhost:3000/login ì ‘ì†
3. ë¡œê·¸ì¸:
   - ì•„ì´ë””: user001
   - ë¹„ë°€ë²ˆí˜¸: test1234
4. ë¡œê·¸ì¸ ì„±ê³µ
5. ì£¼ì†Œì°½ì— ì…ë ¥:
   http://localhost:3000/admin/cases
6. ì—”í„°
```

**âœ… ì˜ˆìƒ ê²°ê³¼**:
```
â†’ ìš´ì˜ì ëŒ€ì‹œë³´ë“œ í‘œì‹œ! âœ…
â†’ "ğŸ› ï¸ ìš´ì˜ì ëŒ€ì‹œë³´ë“œ" ì œëª©
â†’ í†µê³„ ì¹´ë“œë“¤ ë³´ì„
```

---

## ğŸ¯ ë°©ë²• 2: ìƒˆ ê³„ì • ê°€ì… í›„ ìŠ¹ê²©

### Step 1: ìƒˆ ê³„ì • ê°€ì…
```
http://localhost:3000/signup

ì•„ì´ë””: adminmaster
ë¹„ë°€ë²ˆí˜¸: admin1234
ì´ë¦„: ê´€ë¦¬ì
ìƒë…„ì›”ì¼: 900101-1
ì „í™”: 010-9999-9999
```

### Step 2: SQLë¡œ Admin ìŠ¹ê²©
```sql
-- ë°©ê¸ˆ ê°€ì…í•œ adminmasterë¥¼ adminìœ¼ë¡œ
UPDATE users 
SET role = 'admin' 
WHERE name = 'adminmaster';
```

Run í´ë¦­!

### Step 3: ë¡œê·¸ì¸
```
1. ë¡œê·¸ì•„ì›ƒ
2. /login
3. adminmaster / admin1234 ë¡œê·¸ì¸
4. /admin/cases ì ‘ì†
â†’ ì„±ê³µ! âœ…
```

---

## ğŸš¨ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: "ë¡œê·¸ì¸ì€ ë˜ëŠ”ë° /adminì´ ì•ˆ ì—´ë ¤ìš”"

**ì›ì¸**: roleì´ 'admin'ì´ ì•„ë‹˜

**í•´ê²°**:
```sql
-- 1. í˜„ì¬ role í™•ì¸
SELECT name, role FROM users WHERE name = 'user001';

-- 2. ê²°ê³¼ê°€ 'guardian'ì´ë©´:
UPDATE users SET role = 'admin' WHERE name = 'user001';

-- 3. ë‹¤ì‹œ í™•ì¸
SELECT name, role FROM users WHERE name = 'user001';
-- ê²°ê³¼: user001 | admin âœ…
```

**ì¤‘ìš”**: SQL ì‹¤í–‰ í›„ **ë¡œê·¸ì•„ì›ƒ â†’ ì¬ë¡œê·¸ì¸** í•„ìˆ˜!

---

### ë¬¸ì œ 2: "/admin ì ‘ì†í•˜ë©´ /casesë¡œ íŠ•ê²¨ìš”"

**ì›ì¸**: 
1. roleì´ 'guardian'ì„
2. ë˜ëŠ” ë¡œê·¸ì•„ì›ƒ/ì¬ë¡œê·¸ì¸ ì•ˆ í•¨

**í•´ê²°**:
```
1. ë¡œê·¸ì•„ì›ƒ
2. Supabase SQLë¡œ role í™•ì¸:
   SELECT name, role FROM users;
3. roleì´ 'guardian'ì´ë©´ UPDATE ì‹¤í–‰
4. ë‹¤ì‹œ ë¡œê·¸ì¸
5. /admin/cases ì ‘ì†
```

---

### ë¬¸ì œ 3: "UPDATEí–ˆëŠ”ë°ë„ ì•ˆ ë¼ìš”"

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```
â˜‘ï¸ 1. SQL ì‹¤í–‰ í›„ "Run" í´ë¦­í–ˆë‚˜ìš”?
â˜‘ï¸ 2. SQL ì‹¤í–‰ ê²°ê³¼ì— "UPDATE 1" í‘œì‹œë˜ë‚˜ìš”?
â˜‘ï¸ 3. SELECTë¡œ í™•ì¸í–ˆì„ ë•Œ role = 'admin'ì¸ê°€ìš”?
â˜‘ï¸ 4. ë¡œê·¸ì•„ì›ƒ â†’ ì¬ë¡œê·¸ì¸ í–ˆë‚˜ìš”? (í•„ìˆ˜!)
â˜‘ï¸ 5. ì˜¬ë°”ë¥¸ ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í–ˆë‚˜ìš”?
```

---

## ğŸ“¸ ë‹¨ê³„ë³„ ìŠ¤í¬ë¦°ìƒ· ê°€ì´ë“œ

### Supabaseì—ì„œ:

#### 1. SQL Editor ì—´ê¸°
```
ì¢Œì¸¡ ë©”ë‰´ â†’ SQL Editor â†’ New Query
```

#### 2. ê³„ì • í™•ì¸ SQL
```sql
SELECT name, role FROM users;
```
â†’ Run í´ë¦­ â†’ ê²°ê³¼ í™•ì¸

#### 3. Admin ìŠ¹ê²© SQL
```sql
UPDATE users SET role = 'admin' WHERE name = 'user001';
```
â†’ Run í´ë¦­ â†’ "UPDATE 1" í™•ì¸

#### 4. ì¬í™•ì¸ SQL
```sql
SELECT name, role FROM users WHERE name = 'user001';
```
â†’ Run í´ë¦­ â†’ roleì´ 'admin'ì¸ì§€ í™•ì¸

---

## ğŸ§ª ì „ì²´ ê³¼ì • ìš”ì•½ (5ë¶„)

### 1ï¸âƒ£ ê³„ì • ê°€ì… (ë¸Œë¼ìš°ì €)
```
/signup
ì•„ì´ë””: testadmin
ë¹„ë°€ë²ˆí˜¸: test1234
```

### 2ï¸âƒ£ Admin ìŠ¹ê²© (Supabase SQL)
```sql
UPDATE users SET role = 'admin' WHERE name = 'testadmin';
```

### 3ï¸âƒ£ ë¡œê·¸ì•„ì›ƒ â†’ ì¬ë¡œê·¸ì¸ (ë¸Œë¼ìš°ì €)
```
ë¡œê·¸ì•„ì›ƒ
â†’ ë¡œê·¸ì¸: testadmin / test1234
```

### 4ï¸âƒ£ Admin í˜ì´ì§€ ì ‘ì† (ë¸Œë¼ìš°ì €)
```
http://localhost:3000/admin/cases
â†’ ì„±ê³µ! âœ…
```

---

## âœ… ì„±ê³µ í™•ì¸

Admin ëŒ€ì‹œë³´ë“œê°€ ë³´ì´ë©´ ì„±ê³µ:
```
âœ… "ğŸ› ï¸ ìš´ì˜ì ëŒ€ì‹œë³´ë“œ" ì œëª©
âœ… í†µê³„ ì¹´ë“œ 4ê°œ (ì „ì²´/ì§„í–‰ì¤‘/ì™„ë£Œ/ì·¨ì†Œ)
âœ… ì „ì²´ ì¼€ì´ìŠ¤ í…Œì´ë¸”
âœ… [ê´€ë¦¬] ë²„íŠ¼ë“¤
```

---

## ğŸ†˜ ê·¸ë˜ë„ ì•ˆ ë˜ë©´?

ì´ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”:

### 1. SQL ì‹¤í–‰ ê²°ê³¼
```sql
SELECT name, role FROM users;
```
ê²°ê³¼ë¥¼ ë³µì‚¬í•´ì„œ ë³´ë‚´ì£¼ì„¸ìš”.

### 2. ë¡œê·¸ì¸ ì •ë³´
```
- ì•„ì´ë””: _______
- ë¹„ë°€ë²ˆí˜¸: _______
- ë¡œê·¸ì¸ ì„±ê³µ ì—¬ë¶€: Yes/No
```

### 3. /admin ì ‘ì† ì‹œ ë™ì‘
```
- /admin/cases ì ‘ì† ì‹œ ì–´ë””ë¡œ ì´ë™í•˜ë‚˜ìš”?
- /loginìœ¼ë¡œ? /casesë¡œ? ê·¸ëŒ€ë¡œ?
```

---

**ì§€ê¸ˆ ë°”ë¡œ í•´ë³´ì„¸ìš”!** ğŸš€

1. **Supabase SQL**:
```sql
UPDATE users SET role = 'admin' WHERE name = 'user001';
```

2. **ë¡œê·¸ì•„ì›ƒ â†’ ì¬ë¡œê·¸ì¸**

3. **/admin/cases ì ‘ì†**

ê²°ê³¼ ì•Œë ¤ì£¼ì„¸ìš”! ğŸ˜Š

