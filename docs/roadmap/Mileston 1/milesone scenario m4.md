# M4 – QA, 배포, 법적 요건 Scenario 모음

---

## M4-WP1 (시나리오 기반 통합 QA)

Scenario M4-WP1-1: 대표 시나리오(보호자+간병인+PDF) 완주 성공  
Given: 프로덕션 후보 환경에서 M1~M3 기능이 모두 구현되어 있다  
When: 테스트 계정으로 가입 → 케이스 생성 → 계약 동의 → 간병인 링크 공유 → 간병인 동의 → 일지 작성 → 지급 정보 입력 → PDF 생성까지 전체 과정을 수행한다  
Then: 중간에 치명적 오류 없이 전체 플로우가 정상적으로 동작하고 PDF가 내려받아진다  
선행 Scenario: M3-WP4-1  

---

Scenario M4-WP1-2: 조기 종료 후 일지/기간 동작 검증  
Given: 케이스가 진행 중이며 일부 일지가 작성된 상태이다  
When: 보호자가 조기 종료를 설정한 뒤, 간병인이 일지 목록 및 특정 날짜 일지 화면을 확인한다  
Then: 종료일 이후 날짜는 작성 불가(또는 표시되지 않음) 상태이며, 종료일까지 일지는 정상적으로 유지된다  
선행 Scenario: M1-WP4-1, M2-WP3-2  

---

Scenario M4-WP1-3: 연장 후 추가 일지 작성 검증  
Given: 케이스의 종료일이 이미 지나가는 날짜로 설정되어 있었고 일지 작성이 완료된 상태이다  
When: 보호자가 종료일을 연장하고, 간병인이 연장된 날짜에 대해 일지를 작성한다  
Then: 연장된 날짜가 일지 목록에 표시되고 해당 날짜의 일지가 정상적으로 저장된다  
선행 Scenario: M1-WP4-2, M2-WP3-2  

---

## M4-WP2 (프로덕션 배포 검증)

Scenario M4-WP2-1: 프로덕션 URL에서 기본 플로우 동작 확인  
Given: Vercel 및 Supabase 프로덕션 설정이 완료된 상태이다  
When: 실제 프로덕션 URL에서 로그인, 케이스 생성, 링크 접속, PDF 생성까지의 기본 플로우를 수행한다  
Then: 개발환경과 동일한 기능이 문제 없이 작동하고 주요 화면에서 오류가 발생하지 않는다  
선행 Scenario: M4-WP1-1  

---

## M4-WP3 (개인정보 처리방침)

Scenario M4-WP3-1: 개인정보 처리방침 페이지 접근 가능  
Given: `/privacy` 페이지가 구현되어 있고 링크가 푸터 또는 로그인 화면에 노출되어 있다  
When: 사용자가 개인정보 처리방침 링크를 클릭한다  
Then: 수집 항목, 이용 목적, 보관 및 파기 방침이 적힌 `/privacy` 페이지가 정상적으로 열린다  
선행 Scenario: 없음  

---

## M4-WP4 (2차 백로그 정리)

Scenario M4-WP4-1: 2차 백로그 문서화 완료  
Given: 개발 및 QA 과정에서 “추후 개선 필요”로 표시된 이슈들이 정리되어 있다  
When: 시니어 개발자가 이 이슈들을 중요도/난이도 기준으로 정리해 문서(노션, 구글독 등)로 저장한다  
Then: 전자 서명, 암호화, 알림, RLS 등 2차 작업 항목이 우선순위와 함께 명확하게 리스트업된다  
선행 Scenario: M4-WP1-1  
